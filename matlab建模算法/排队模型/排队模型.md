## 排队模型

### 1.简介

日常生活中存在大量有形和无形的排队或拥挤现象，如旅客购票排队，市内电话占线等现象。排队论的基本思想是1910年丹麦电话工程师A.K.埃尔朗在解决自动电话设计问题时开始形成的，当时称为话务理论。他在热力学统计平衡理论的启发下，成功地建立了电话统计平衡模型，并由此得到一组递推状态方程，从而导出著名的埃尔朗电话损失率公式。自20世纪初以来，电话系统的设计一直在应用这个公式。30年代苏联数学家А.Я.欣钦把处于统计平衡的电话呼叫流称为最简单流。瑞典数学家巴尔姆又引入有限后效流等概念和定义。他们用数学方法深入地分析了电话呼叫的本征特性，促进了排队论的研究。50年代初，美国数学家关于生灭过程的研究、英国数学家D.G.肯德尔提出嵌入[马尔可夫链理论](https://wiki.mbalib.com/wiki/马尔可夫链理论)，以及对排队队型的分类方法，为排队论奠定了理论基础。在这以后，L.塔卡奇等人又将组合方法引进排队论，使它更能适应各种类型的排队问题。70年代以来，人们开始研究排队网络和复杂排队问题的渐近解等，成为研究现代排队论的新趋势。

### 2.基本原理

#### 2.1排队系统模型的基本组成部分

排队系统又称服务系统。服务系统由服务机构和服务对象（顾客）构成。服务对象到来的时刻和对他服务的时间（即占用服务系统的时间）都是随机的。图1为一最简单的排队系统模型。排**队系统包括三个组成部分：输入过程、排队规则和服务机构。**

![img](https://wiki.mbalib.com/w/images/7/75/%E6%8E%92%E9%98%9F%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9E%8B.jpg)

##### 输入过程

它可以用一定时间内顾客到达数或前后两个顾客相继到达的间隔时间来描述，一般分为确定型和随机型两种。

在生产线上加工的零件按规定的间隔时间依次到达加工地点，定期运行的班车、班机等都属于确定型输入。随机型的输入是指在时间t内顾客到达数 n（t）[服从](https://wiki.mbalib.com/wiki/服从)一定的随机分布。如服从[泊松分布](https://wiki.mbalib.com/wiki/泊松分布),则在时间t内到达n个顾客的概率为

　　[![排队论](https://wiki.mbalib.com/w/images/6/64/%E8%BE%93%E5%85%A5%E8%BF%87%E7%A8%8B%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F1.jpg)](https://wiki.mbalib.com/wiki/Image:输入过程计算公式1.jpg)

　　或相继到达的顾客的间隔时间T 服从负指数分布，即

　　[![排队论](https://wiki.mbalib.com/w/images/1/16/%E8%BE%93%E5%85%A5%E8%BF%87%E7%A8%8B%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F2.jpg)](https://wiki.mbalib.com/wiki/Image:输入过程计算公式2.jpg)

　　式中λ为单位时间[顾客期望](https://wiki.mbalib.com/wiki/顾客期望)到达数，称为平均到达率；1/λ为平均间隔时间。在排队论中，讨论的输入过程主要是随机型的。

##### 排队规则

[排队规则](https://wiki.mbalib.com/wiki/排队规则)分为等待制、损失制和混合制三种。

当顾客到达时，所有服务机构都被占用，则顾客排队等候，即为等待制。在等待制中，为顾客进行服务的次序可以是先到先服务，或后到先服务，或是随机服务和有优先权服务（如医院接待急救病人）。如果顾客来到后看到服务机构没有空闲立即离去，则为损失制。有些系统因留给顾客排队等待的空间有限，因此超过所能容纳人数的顾客必须离开系统，这种[排队规则](https://wiki.mbalib.com/wiki/排队规则)就是混合制。

##### 服务机构

可以是一个或多个服务台。

多个服务台可以是平行排列的，也可以是串连排列的。

服务时间一般也分成确定型和随机型两种。(先到先服务)



机构服务时间v 则服从一定的随机分布。如果服从负指数分布，则其分布函数是

　　[![排队论](https://wiki.mbalib.com/w/images/e/e4/%E6%9C%8D%E5%8A%A1%E6%9C%BA%E6%9E%84%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F.jpg)](https://wiki.mbalib.com/wiki/Image:服务机构计算公式.jpg)

　　式中μ为平均服务率，1/μ为平均服务时间。

#### 2.2排队系统的分类

以相继顾客到达系统的间隔时间分布、服务时间的分布和服务台数目为分类标志。

用肯德尔记号 X/Y/Z进行分类。

　　X处填写相继到达间隔时间的分布；

　　Y处填写服务时间分布;

　　Z处填写并列的服务台数目。

　　各种分布符号有：**M-负指数分布;D-确定型; Ek-k阶埃尔朗分布；GI-一般相互独立分布；G-一般随机分布等。**

### 3.求解方法

研究排队系统问题的主要目的是研究其运行效率,考核[服务质量](https://wiki.mbalib.com/wiki/服务质量),以便据此提出改进措施。通常评价排队系统优劣有 6项数量指标。

　　①系统负荷水平ρ ：它是衡量服务台在承担服务和满足需要方面能力的尺度；

　　②系统空闲概率$p_0$：系统处于没有顾客来到要求服务的概率；

　　③队长**：系统中排队等待服务和正在服务的顾客总数，其平均值记为$L_s$ **；

　　④队列长：系统中排队等待服务的顾客数，其平均值记为$L_q$；

　　⑤逗留时间：一个顾客在系统中停留时间，**包括等待时间和服务时间**，其平均值记为$W_s$；

　　⑥等待时间：一个顾客在系统中排队等待时间,其平均值记为$W_q$。

### 4.matlab程序

#### 4.1 M/M/1（单服务台负指数分布）

![img](https://wiki.mbalib.com/w/images/7/74/%E6%8E%92%E9%98%9F%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%8C%87%E6%A0%87.jpg)

![img](https://wiki.mbalib.com/w/images/thumb/c/c5/%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB%E9%80%9F%E5%BA%A6%E5%9B%BE.jpg/800px-%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB%E9%80%9F%E5%BA%A6%E5%9B%BE.jpg)

顾客源是无限的，排队是单队的，服务是单服务台的。



#### 4.2 M/M/S（多服务台负指数分布）

| 指标     | $p$                    | $p_0$                                                        | $L_s$       | $L_q$ | $W_s$               | $W_q$                 |
| -------- | ---------------------- | ------------------------------------------------------------ | ----------- | ----- | ------------------- | --------------------- |
| 计算公式 | $\frac{\lambda}{s\mu}$ | $[\sum_{n=0}^{s-1}\frac{\rho}{n!}+\frac{\rho^s}{s!(1-\rho_s)}]^{-1}$ | $L_q+s\rho$ |       | $\frac{L}{\lambda}$ | $\frac{L_q}{\lambda}$ |

$$

$$

#### 例题

##### 一、

```matlab
考虑一个医院医院急诊的管理问题. 根据统计资料, 急论据病人相继到达的时间间隔服从负指数分布, 平均每0.5h来一个; 医生处理一个病人的时间也服从负指数分布, 平均需要20min. 该急诊室已有一个医生, 管理人员现考虑是否需要再增加一个医生
```

不增加时

![image-20210131114122587](C:\Users\26292\AppData\Roaming\Typora\typora-user-images\image-20210131114122587.png)

增加后：

![image-20210131114142772](C:\Users\26292\AppData\Roaming\Typora\typora-user-images\image-20210131114142772.png)

效率大大提高！

##### 二、

```matlab
某售票处有三个窗口,顾客的到达服从泊松过程,平均到达率每分钟0.9人/min. 服务(售票)时间（一个服务台）服从负指数分布, 平均服务率0.4人/min. 现设顾客到达后排成一队,依次向空闲的窗口购票,
```

现在的处理效率：

![image-20210131114529388](C:\Users\26292\AppData\Roaming\Typora\typora-user-images\image-20210131114529388.png)

##### 三、

通过增加服务台数，减少平均到达的人数，从而提高效率；

提高之前：

![服务台不增加2](C:\Users\26292\Desktop\美赛冲冲冲\2021Mathematical modeling\MathematicalModeling2021\matlab建模算法\排队模型\服务台不增加2.jpg)![服务台不增加](C:\Users\26292\Desktop\美赛冲冲冲\2021Mathematical modeling\MathematicalModeling2021\matlab建模算法\排队模型\服务台不增加.jpg)

增加之后：

![服务台增加2](C:\Users\26292\Desktop\美赛冲冲冲\2021Mathematical modeling\MathematicalModeling2021\matlab建模算法\排队模型\服务台增加2.jpg)![服务台增加](C:\Users\26292\Desktop\美赛冲冲冲\2021Mathematical modeling\MathematicalModeling2021\matlab建模算法\排队模型\服务台增加.jpg)